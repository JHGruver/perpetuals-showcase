// ============================================
// PARTICLE ANIMATION STYLES
// For use with particles.js or Three.js backgrounds
// ============================================
@use '../utils/variables' as *;
@use '../utils/mixins' as *;

// Particles container
.particles-container {
  position: absolute;
  inset: 0;
  z-index: $z-below;
  overflow: hidden;
  pointer-events: none;
}

// Canvas element for particles.js
#particles-js,
.particles-js {
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
}

// Three.js canvas
.three-canvas {
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
}

// Hero with particles background
.hero-particles {
  position: relative;
  min-height: 100vh;
  min-height: 100dvh;
  @include flex-center;
  background: $gradient-dark;
  overflow: hidden;

  .hero-content {
    position: relative;
    z-index: $z-above;
    text-align: center;
    color: $color-primary-white;
  }
}

// Floating particles (CSS only alternative)
.floating-particles {
  position: absolute;
  inset: 0;
  overflow: hidden;
  pointer-events: none;

  .particle {
    position: absolute;
    width: 4px;
    height: 4px;
    background: rgba($color-accent-blue, 0.5);
    border-radius: $radius-full;
    animation: floatParticle 20s infinite ease-in-out;

    @for $i from 1 through 50 {
      &:nth-child(#{$i}) {
        left: random(100) * 1%;
        top: random(100) * 1%;
        animation-delay: random(20) * -1s;
        animation-duration: (15 + random(10)) * 1s;
        opacity: random(50) / 100 + 0.2;
        transform: scale(random(100) / 100 + 0.5);
      }
    }
  }
}

@keyframes floatParticle {
  0%, 100% {
    transform: translate(0, 0);
  }
  25% {
    transform: translate(50px, -30px);
  }
  50% {
    transform: translate(20px, 40px);
  }
  75% {
    transform: translate(-30px, 20px);
  }
}

// Connecting lines effect (CSS)
.particle-network {
  position: absolute;
  inset: 0;
  background:
    radial-gradient(circle at 20% 30%, rgba($color-accent-blue, 0.1) 0%, transparent 50%),
    radial-gradient(circle at 80% 70%, rgba($color-accent-green, 0.1) 0%, transparent 50%),
    radial-gradient(circle at 50% 50%, rgba($color-primary-white, 0.05) 0%, transparent 70%);
}

// Glow orbs
.glow-orbs {
  position: absolute;
  inset: 0;
  overflow: hidden;
  pointer-events: none;

  .orb {
    position: absolute;
    border-radius: $radius-full;
    filter: blur(60px);
    animation: orbFloat 30s infinite ease-in-out;

    &.orb-1 {
      width: 400px;
      height: 400px;
      background: rgba($color-accent-blue, 0.3);
      top: -100px;
      left: -100px;
    }

    &.orb-2 {
      width: 300px;
      height: 300px;
      background: rgba($color-accent-green, 0.2);
      bottom: -50px;
      right: -50px;
      animation-delay: -10s;
    }

    &.orb-3 {
      width: 200px;
      height: 200px;
      background: rgba($color-accent-gold, 0.15);
      top: 50%;
      left: 50%;
      animation-delay: -20s;
    }
  }
}

@keyframes orbFloat {
  0%, 100% {
    transform: translate(0, 0) scale(1);
  }
  33% {
    transform: translate(30px, -30px) scale(1.1);
  }
  66% {
    transform: translate(-20px, 20px) scale(0.9);
  }
}

// Star field effect
.starfield {
  position: absolute;
  inset: 0;
  background: $color-primary-black;
  overflow: hidden;

  .star {
    position: absolute;
    width: 2px;
    height: 2px;
    background: $color-primary-white;
    border-radius: $radius-full;
    animation: twinkle 3s infinite ease-in-out;

    @for $i from 1 through 100 {
      &:nth-child(#{$i}) {
        left: random(100) * 1%;
        top: random(100) * 1%;
        animation-delay: random(30) / 10 * -1s;
        opacity: random(50) / 100 + 0.3;
      }
    }
  }
}

@keyframes twinkle {
  0%, 100% { opacity: 0.3; }
  50% { opacity: 1; }
}

// Grid pattern background
.grid-pattern {
  position: absolute;
  inset: 0;
  background-image:
    linear-gradient(rgba($color-accent-blue, 0.1) 1px, transparent 1px),
    linear-gradient(90deg, rgba($color-accent-blue, 0.1) 1px, transparent 1px);
  background-size: 50px 50px;
  mask-image: radial-gradient(ellipse at center, black 0%, transparent 70%);
}

// Data visualization particles
.data-particles {
  position: absolute;
  inset: 0;
  overflow: hidden;

  .data-point {
    position: absolute;
    width: 8px;
    height: 8px;
    background: $color-accent-blue;
    border-radius: $radius-full;
    box-shadow: 0 0 20px $color-accent-blue;
    animation: dataFlow 8s infinite linear;

    &::before {
      content: '';
      position: absolute;
      width: 100px;
      height: 2px;
      background: linear-gradient(90deg, $color-accent-blue, transparent);
      right: 100%;
      top: 50%;
      transform: translateY(-50%);
    }
  }
}

@keyframes dataFlow {
  0% {
    transform: translateX(-100vw);
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  90% {
    opacity: 1;
  }
  100% {
    transform: translateX(100vw);
    opacity: 0;
  }
}
